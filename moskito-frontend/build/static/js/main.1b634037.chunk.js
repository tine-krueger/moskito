(this["webpackJsonpmoskito-frontend"]=this["webpackJsonpmoskito-frontend"]||[]).push([[0],{48:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(2),r=n.n(i),o=n(29),s=n.n(o),c=n(8),d=n(5),l=n(3),p=n(23);function u(e){return e.features.filter((function(e){return e.value}))}function m(e){return b().find((function(t){return t.dbName===e.type})).name}function b(){return[{id:1,name:"kein W-Lan",dbName:"wlan",isFeature:!1},{id:2,name:"keine Bar/Diskothek",dbName:"music",isFeature:!1},{id:3,name:"keine Animation",dbName:"animation",isFeature:!1},{id:4,name:"Lagerfeuerstelle",dbName:"fire",isFeature:!1},{id:5,name:"Kies- oder Sandwege",dbName:"path",isFeature:!1},{id:6,name:"Bulli-Wiese",dbName:"bulli",isFeature:!1},{id:7,name:"Zeltbereiche",dbName:"tents",isFeature:!1},{id:8,name:"keine Parzellierung",dbName:"subdevision",isFeature:!1},{id:9,name:"wenig/keine Dauercamper",dbName:"permanent",isFeature:!1},{id:10,name:"mind. 80qm Standfl\xe4che",dbName:"size",isFeature:!1},{id:11,name:"Bio/Regionale Lebensmittel",dbName:"bio",isFeature:!1},{id:12,name:"Imbiss",dbName:"snack",isFeature:!1},{id:13,name:"Hunde erlaubt",dbName:"animals",isFeature:!1},{id:14,name:"Zugang zum See/Meer",dbName:"seaside",isFeature:!1},{id:15,name:"Badestelle f\xfcr Kinder",dbName:"bathing",isFeature:!1},{id:16,name:"mit Wald",dbName:"forest",isFeature:!1}]}function h(e){var t=e.feature;return Object(a.jsx)(x,{children:m(t)})}var x=l.b.li.withConfig({displayName:"FeatureListItem__FeatureItem",componentId:"sc-1l4j6b6-0"})(["border-radius:10px;display:inline-block;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);padding:.5em 1em;margin:.5em;"]),j=n(4),g=n(18);function f(e,t,n,a){var i={method:t,headers:n,body:JSON.stringify(e),redirect:"follow"};try{return fetch(a,i).then((function(e){return e.json()}))}catch(r){return{error:"Server does not answer!"}}}function O(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){console.log(t)}}function v(){var e=O("tokens");return function(e,t){var n={method:"GET",headers:e,redirect:"follow"};try{return fetch(t,n).then((function(e){return e.json()}))}catch(a){return{error:"Server does not answer!"}}}({Authorization:"Bearer ".concat(e.value)},"".concat("https://backend.moskito.uber.space","/bookmark"))}function w(e){var t=e.id,n=e.isPinned,r=Object(i.useState)(n),o=Object(j.a)(r,2),s=o[0],c=o[1];return Object(a.jsx)(k,{pinned:s,onClick:function(){c(!s),function(e){var t=O("tokens");f("","POST",{Authorization:"Bearer ".concat(t.value)},"".concat("https://backend.moskito.uber.space","/bookmark/").concat(e)).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}(t)},children:Object(a.jsx)(g.a,{})})}var k=l.b.div.withConfig({displayName:"LikeButton__CampsiteLikeButton",componentId:"sc-1leozx1-0"})(["position:absolute;right:1em;top:1em;height:3.5em;width:3.5em;border-radius:10px;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);display:flex;justify-content:center;svg{width:2.1em;height:2.1em;stroke:#c97f63;stroke-width:3em;fill:",";align-self:center;margin-bottom:3px;}"],(function(e){return e.pinned?"#c97f63":"#c2d6d3"}));function y(e){var t=e.campsite;return Object(a.jsxs)(C,{children:[Object(a.jsx)("h2",{children:t.name}),Object(a.jsxs)(N,{children:[Object(a.jsxs)("p",{children:[t.street,", ",t.postalCode," ",t.place]}),Object(a.jsxs)(F,{children:[t.telephone&&Object(a.jsxs)("p",{children:[Object(a.jsx)(p.b,{}),t.telephone]}),t.email&&Object(a.jsxs)("p",{children:[Object(a.jsx)(p.a,{})," ",t.email]}),Object(a.jsx)("a",{rel:"noopener noreferrer",href:t.web,target:"_blank",children:t.web})]})]}),Object(a.jsx)(S,{children:u(t).map((function(e){return Object(a.jsx)(h,{feature:e},e.id)}))}),Object(a.jsx)(w,{isPinned:t.pinned,id:t.id})]})}var C=l.b.div.withConfig({displayName:"CampsiteListItem__CampItem",componentId:"w00kd9-0"})(["box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);border-radius:20px;margin:2em 1em;padding:.5em 1em;position:relative;h2{width:75%;margin-left:.3em;}"]),N=l.b.div.withConfig({displayName:"CampsiteListItem__Address",componentId:"w00kd9-1"})(["margin-left:.5em;margin-top:2.5em;"]),F=l.b.div.withConfig({displayName:"CampsiteListItem__Contact",componentId:"w00kd9-2"})(["p{position:relative;padding-left:2em;}svg{width:20px;height:20px;color:#476c85;position:absolute;top:0;left:0;}a{display:block;margin-top:1em;}"]),S=l.b.ul.withConfig({displayName:"CampsiteListItem__FeatureList",componentId:"w00kd9-3"})(['  list-style:none;padding-left:0;position:relative;margin-top:3em;&::before{content:" ";display:inline-block;position:absolute;width:90%;height:5px;left:5%;top:-25px;transition:all .2s ease;border-radius:5px;box-shadow:0.5px 0.5px 2px 0px rgba(0,0,0,0.4),-1.25px -1.25px 2px 0px rgba(255,255,255,0.5);}']);function _(e){var t=e.campsites,n=e.errors;return Object(a.jsxs)(I,{children:[n&&Object(a.jsx)("p",{children:n.errors}),t.map((function(e){return Object(a.jsx)(y,{campsite:e},e.id)}))]})}var I=l.b.div.withConfig({displayName:"CampsiteList__CampList",componentId:"nwxjwm-0"})(["margin-bottom:6em;"]);function L(e){var t=e.children;return Object(a.jsx)(B,{children:Object(a.jsx)("h1",{children:t})})}var B=l.b.div.withConfig({displayName:"Header__HeaderStyled",componentId:"sc-1i4lzpb-0"})(["width:80%;margin:2em auto 3em;padding:.25em .5em;border-radius:20px;text-align:center;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);"]),T=n(33),z=Object(i.createContext)();function A(){return Object(i.useContext)(z)}function D(){var e=A(),t=e.deleteTokens,n=e.setAuthTokens,i=e.authTokens;return Object(a.jsx)(P,{children:Object(a.jsxs)(M,{children:[Object(a.jsx)(E,{children:Object(a.jsx)(c.b,{to:"/find-campsite",children:Object(a.jsx)(g.b,{})})}),Object(a.jsx)(E,{children:Object(a.jsx)(c.b,{to:"/bookmarks",children:Object(a.jsx)(g.a,{})})}),Object(a.jsx)(E,{children:Object(a.jsx)("button",{onClick:function(e){e.preventDefault();var a=i;n(),t(a)},children:Object(a.jsx)(T.a,{})})})]})})}var P=l.b.nav.withConfig({displayName:"Navigation__Navbar",componentId:"pcx57h-0"})(["width:100vw;background-color:#c2d6d3;position:fixed;bottom:0;left:0;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);"]),M=l.b.ul.withConfig({displayName:"Navigation__NavList",componentId:"pcx57h-1"})(["padding-left:0;list-style-type:none;display:flex;justify-content:space-around;"]),E=l.b.li.withConfig({displayName:"Navigation__NavListItem",componentId:"pcx57h-2"})(["text-align:center;border-radius:10px;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);width:3em;height:3em;display:flex;justify-content:center;align-items:center;button{background-color:#c2d6d3;border:none;}a svg,button svg{width:2em;height:2em;stroke:#c97f63;}button svg{width:2.3em;height:2.3em;}&:hover,&:active,&:focus{background:linear-gradient(145deg,#A2B2B0,#E2FAF6);box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);outline:none;}"]);function K(e){var t=e.headline,n=e.campsites,i=e.errors;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{children:t}),Object(a.jsx)(_,{campsites:n,errors:i}),Object(a.jsx)(D,{})]})}var V=n(14),H=n(7),R=n(27);function Z(e){var t=e.feature,n=e.filter,i=e.setFilter;return Object(a.jsxs)(J,{children:[Object(a.jsx)("input",{id:t.dbName,type:"checkbox",defaultChecked:t.isFeature,onChange:function(e){var t=n.features.findIndex((function(t){return t.dbName===e.target.id})),a=n.features[t];i(Object(H.a)(Object(H.a)({},n),{},{features:[].concat(Object(R.a)(n.features.slice(0,t)),[Object(H.a)(Object(H.a)({},a),{},{isFeature:!a.isFeature})],Object(R.a)(n.features.slice(t+1)))}))}}),Object(a.jsx)("label",{htmlFor:t.dbName,children:Object(a.jsx)("p",{children:t.name})})]},t.id)}var J=l.b.div.withConfig({displayName:"FilterCampsiteCheckbox__Feature",componentId:"sc-16kcsos-0"})(['position:relative;height:2.5em;margin-bottom:.75em;input[type="checkbox"]{opacity:0;position:absolute;visibility:hidden;}p{margin:0;padding-left:2.5em;}p::before{content:" ";display:inline-block;position:absolute;width:25px;height:25px;left:0;top:0;-webkit-transition:all .2s ease;transition:all .2s ease;border-radius:5px;background-color:#d8e6e4;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);}p::after{content:" ";width:14px;height:14px;top:6px;position:absolute;opacity:0;background-color:#c97f63;font-weight:900;border-radius:2px;display:inline-block;left:6px;}input[type="checkbox"]:checked+label>p::after{opacity:1;}input[type="checkbox"]:checked+label>p::before{box-shadow:inset 5px 5px 3px -3px rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,.9);}']);function U(e){var t=e.suggestions,n=e.onClick;return Object(a.jsx)(q,{children:t.map((function(e,t){return Object(a.jsx)(W,{onClick:function(){return n(e)},children:e.label},t)}))})}var q=l.b.ul.withConfig({displayName:"Suggestions__ListStyled",componentId:"sc-1jdln59-0"})(["margin-top:-1.7em;padding:0.5em 1em;list-style:none;padding-left:0;background:#d8e6e4;opacity:.8;border-radius:10px;box-shadow:inset 2px 1px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,.4);"]),W=l.b.li.withConfig({displayName:"Suggestions__ListElement",componentId:"sc-1jdln59-1"})(["padding:.5em 1em;&:hover,&:focus,&:active{color:#d3a392;}"]);function G(e){var t=e.children,n=e.onClick;return Object(a.jsx)(Y,{onClick:n,children:t})}var Y=l.b.button.withConfig({displayName:"Button__ButtonStyled",componentId:"sc-1b627y-0"})(["padding:1em 2em;font-family:'Arvo';font-size:1.1rem;border-radius:10px;width:auto;border:none;background:#c2d6d3;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);color:#476c85;text-transform:uppercase;margin:3em auto;&:hover{background:linear-gradient(145deg,#A2B2B0,#E2FAF6);box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);outline:none;}"]);function Q(e){var t=e.type,n=e.name,i=e.value,r=e.onChange,o=e.placeholder,s=e.children,c=e.marginBottom;return Object(a.jsxs)(X,{lessMargin:c,children:[Object(a.jsx)("h3",{children:s}),Object(a.jsx)("input",{type:t,name:n,value:i,onChange:r,placeholder:o})]})}var X=l.b.label.withConfig({displayName:"InputField__Label",componentId:"prd5g3-0"})(["grid-column:1 / -1;width:100%;text-align:center;margin:0 auto 2em;margin-bottom:",";h3{text-align:left;padding-left:.5em;margin:0 0 1em;}input{width:100%;padding:1em;height:3em;font-size:1em;border:none;border-radius:10px;color:#6b717e;background-color:#d8e6e4;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);}input:focus{outline:none;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3),0 0 0px 1.7px #d3a392;}"],(function(e){return"sm"===e.lessMargin?".5em":"2em"}));function $(e){var t=Object(i.useState)(e),n=Object(j.a)(t,2),a=n[0],r=n[1],o=Object(d.g)();return{fields:a,handleChange:function(e){r(Object(H.a)(Object(H.a)({},a),{},Object(V.a)({},e.target.name,e.target.value)))},handleClick:function(e){e.preventDefault(),o.push("/")},setValues:r}}function ee(e){var t=e.getCampsites,n={name:"PLZ/Ort",dbName:"postalCode",postalCode:"",distance:100,latitude:null,longitude:null,features:[{id:1,name:"kein W-Lan",dbName:"wlan",isFeature:!1},{id:2,name:"keine Bar/Diskothek",dbName:"music",isFeature:!1},{id:3,name:"keine Animation",dbName:"animation",isFeature:!1},{id:4,name:"Lagerfeuerstelle",dbName:"fire",isFeature:!1},{id:5,name:"Kies- oder Sandwege",dbName:"path",isFeature:!1},{id:6,name:"Bulli-Wiese",dbName:"bulli",isFeature:!1},{id:7,name:"Zeltbereiche",dbName:"tents",isFeature:!1},{id:8,name:"keine Parzellierung",dbName:"subdevision",isFeature:!1},{id:9,name:"wenig/keine Dauercamper",dbName:"permanent",isFeature:!1},{id:10,name:"mind. 80qm Standfl\xe4che",dbName:"size",isFeature:!1},{id:11,name:"Bio/Regionale Lebensmittel",dbName:"bio",isFeature:!1},{id:12,name:"Imbiss",dbName:"snack",isFeature:!1},{id:13,name:"Hunde erlaubt",dbName:"animals",isFeature:!1},{id:14,name:"Zugang zum See/Meer",dbName:"seaside",isFeature:!1},{id:15,name:"Badestelle f\xfcr Kinder",dbName:"bathing",isFeature:!1},{id:16,name:"mit Wald",dbName:"forest",isFeature:!1}]},r=$(n),o=r.fields,s=r.setValues,c=r.handleChange,l=Object(d.g)(),p=Object(i.useState)([]),u=Object(j.a)(p,2),m=u[0],b=u[1],h=Object(i.useState)(),x=Object(j.a)(h,2),g=x[0],f=x[1];return Object(a.jsxs)(te,{onSubmit:function(e){e.preventDefault(),t(o,f),l.push("/campsites")},children:[g&&Object(a.jsx)("p",{children:g}),Object(a.jsx)(Q,{type:"text",name:"postalCode",value:o.postalCode,onChange:function(e){s(Object(H.a)(Object(H.a)({},o),{},Object(V.a)({},e.target.name,e.target.value))),o.postalCode.length>2?function(e){var t="".concat("https://autocomplete.geocoder.ls.hereapi.com","/6.2/suggest.json?apiKey=").concat("PVNaBVFJbZNejmVjh8SioYKimJC7uLDRxjjg92_KA_A","&query=").concat(e,"&country=DEU");try{return fetch(t,{method:"GET",redirect:"follow"}).then((function(e){return e.json()}))}catch(n){return{error:"Server does not answer!"}}}(o.postalCode).then((function(e){return b(e.suggestions)})).catch((function(){return b([{label:"Service nicht verf\xfcgbar"}])})):b([])},placeholder:o.name,children:"Dein Ziel:"}),0!==m.length&&Object(a.jsx)(U,{suggestions:m,onClick:function(e){var t=e.address.postalCode+" "+e.address.city;(function(e){var t=e.toLowerCase().replace(/\s+/g,"+"),n="".concat("https://geocoder.ls.hereapi.com","/6.2/geocode.json?apiKey=").concat("PVNaBVFJbZNejmVjh8SioYKimJC7uLDRxjjg92_KA_A","&searchtext=").concat(t,"&country=DEU");try{return fetch(n,{method:"GET",redirect:"follow"}).then((function(e){return e.json()}))}catch(a){return{error:"Server does not answer!"}}})(t).then((function(e){var n=e.Response.View[0].Result[0].Location.DisplayPosition;s(Object(H.a)(Object(H.a)({},o),{},{latitude:n.Latitude,longitude:n.Longitude,postalCode:t}))})).catch((function(){return b([{label:"Ortsuche momentan nicht verf\xfcgbar! Bitte versuche es sp\xe4ter noch einmal."}])})),b([])}}),Object(a.jsx)(Q,{type:"number",name:"distance",value:o.distance,onChange:c,placeholder:o.distance,children:"Umkreis in km:"}),Object(a.jsx)("h3",{children:"(Keine) Ausstattung:"}),Object(a.jsx)(ne,{children:n.features.map((function(e){return Object(a.jsx)(Z,{feature:e,filter:o,setFilter:s},e.id)}))}),Object(a.jsx)(G,{children:"Campingpl\xe4tze finden"})]})}var te=l.b.form.withConfig({displayName:"FilterCampsiteForm__FilterCampsite",componentId:"sc-1gro8oo-0"})(["max-width:500px;display:grid;margin:2em 2em 5em 2em;h4{padding-left:.5em;margin:0 0 1em;}"]),ne=l.b.div.withConfig({displayName:"FilterCampsiteForm__Checkboxes",componentId:"sc-1gro8oo-1"})(["margin-top:1em;padding-left:.5em;"]);function ae(e){var t=e.getCampsites,n=e.headline;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{children:n}),Object(a.jsx)(ee,{getCampsites:t}),Object(a.jsx)(D,{})]})}function ie(e){var t=O("tokens").value;return f(e,"POST",{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},"".concat("https://backend.moskito.uber.space","/campsite-filter"))}function re(){var e=Object(i.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)([]),o=Object(j.a)(r,2),s=o[0],c=o[1],d=Object(i.useState)(),l=Object(j.a)(d,2),p=l[0],u=l[1];return{errors:p,campsites:n,bookmarks:s,getCampsites:function(e){var t=function(e){return e.features.filter((function(e){return e.isFeature}))}(e);ie({latitude:e.latitude,longitude:e.longitude,distance:e.distance,trueFeatures:t}).then((function(e){e.errors?(u(e),a([])):(a(e),u())})).catch((function(e){console.log("error",e)}))},setBookmarks:function(){v().then((function(e){c(e),console.log(e)})).catch((function(e){return console.log("error",e)}))}}}function oe(e){var t=e.headline,n=re(),r=n.bookmarks,o=n.setBookmarks;return Object(i.useEffect)((function(){o()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{children:t}),Object(a.jsx)(_,{campsites:r}),Object(a.jsx)(D,{})]})}function se(e){var t=e.children;return Object(a.jsx)(ce,{children:t})}var ce=l.b.h1.withConfig({displayName:"FrontHeadline__HeadlineStyled",componentId:"gtyoh2-0"})(["font-family:'Hind Madurai';font-size:1.3em;text-align:center;margin-top:1em;"]),de=n(12),le=n.n(de),pe=n.p+"static/media/moskitoLogo.c505e5fa.svg";function ue(e){var t=e.inputMargin;return Object(a.jsx)(me,{inputMargin:t,children:Object(a.jsx)(be,{src:pe,alt:"Moskito Logo"})})}ue.protoTypes={inputMargin:le.a.string};var me=l.b.div.withConfig({displayName:"Logo__LogoStyled",componentId:"sc-11aqx9j-0"})(["margin-top:",";text-align:center;"],(function(e){return e.inputMargin||"8em"})),be=l.b.img.withConfig({displayName:"Logo__LogoImage",componentId:"sc-11aqx9j-1"})(["box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);border-radius:20px;padding:1em 2em;width:85%;"]);function he(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue,{}),Object(a.jsx)(se,{children:"Camping back to the roots"}),Object(a.jsxs)(xe,{children:[Object(a.jsx)(c.b,{to:"/login",children:Object(a.jsx)(G,{children:"Login "})}),Object(a.jsx)(c.b,{to:"/signin",children:Object(a.jsx)(G,{children:"SignUp "})})]})]})}var xe=l.b.div.withConfig({displayName:"Landing__UserButtons",componentId:"sc-125629q-0"})(["display:grid;justify-items:center;margin-top:4em;Button{margin:.5em;width:10em;}"]);function je(e){var t=e.text1,n=e.text2,i=e.onClick;e.disabled;return Object(a.jsxs)(ge,{children:[Object(a.jsx)(G,{children:t}),Object(a.jsx)(G,{type:"button",onClick:i,children:n})]})}var ge=l.b.div.withConfig({displayName:"ButtonBackGroup__Buttons",componentId:"yrfass-0"})(["display:grid;justify-items:center;Button{margin:.5em;width:10em;}"]);function fe(){var e=$({email:"",password:""}),t=e.fields,n=e.handleChange,r=e.handleClick,o=Object(i.useState)(!1),s=Object(j.a)(o,2),c=s[0],l=s[1],p=Object(i.useState)(!1),u=Object(j.a)(p,2),m=u[0],b=u[1],h=A(),x=h.setAuthTokens,g=h.getToken;return c?Object(a.jsx)(d.a,{to:"/find-campsite"}):Object(a.jsxs)(Oe,{onSubmit:function(e){e.preventDefault(),g(t).then((function(e){e.validUntil?(x(e),l(!0)):b(!0)})).catch((function(e){return b(!0)}))},children:[m&&Object(a.jsx)("p",{children:"E-Mail oder Password-Eingabe nicht korrekt!"}),Object(a.jsx)(Q,{type:"text",name:"email",value:t.email,onChange:n,placeholder:"E-Mail",marginBottom:"sm"}),Object(a.jsx)(Q,{type:"password",name:"password",value:t.password,onChange:n,placeholder:"Password"}),Object(a.jsx)(je,{text1:"Login",text2:"Zur\xfcck",onClick:r})]})}var Oe=l.b.form.withConfig({displayName:"LoginForm__LoginFormStyled",componentId:"sc-1jo0o9n-0"})(["max-width:500px;display:grid;margin:2em;"]);function ve(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue,{inputMargin:"3.5em"}),Object(a.jsx)(se,{children:"Login"}),Object(a.jsx)(fe,{})]})}var we=n(19),ke=n.n(we),ye=n(26);function Ce(){var e=O("tokens"),t=Object(i.useState)(e),n=Object(j.a)(t,2),a=n[0],r=n[1],o="https://backend.moskito.uber.space",s=new Headers;s.append("Content-Type","application/json");return{authTokens:a,setAuthTokens:r,setTokens:function(e){!function(e,t){localStorage.setItem(e,JSON.stringify(t))}("tokens",e),r(e)},deleteTokens:function(){var e=Object(ye.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("tokens"),e.abrupt("return",f(t,"DELETE",s,"".concat(o,"/logout")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getToken:function(){var e=Object(ye.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(t,"POST",s,"".concat(o,"/login")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}var Ne=n(35);function Fe(e){var t=e.component,n=Object(Ne.a)(e,["component"]),i=A().authTokens;return Object(a.jsx)(d.b,Object(H.a)(Object(H.a)({},n),{},{render:function(e){return i?Object(a.jsx)(t,Object(H.a)({},e)):Object(a.jsx)(d.a,{to:"/login"})}}))}var Se=function(e){var t=e.children,n=e.waitBeforeShow,a=void 0===n?500:n,r=Object(i.useState)(!1),o=Object(j.a)(r,2),s=o[0],c=o[1];return Object(i.useEffect)((function(){setTimeout((function(){c(!0)}),a)}),[a]),s?t:null};function _e(){var e=$({firstName:"",lastName:"",email:"",password:"",passwordControl:""}),t=e.fields,n=e.handleChange,r=e.handleClick,o=Object(i.useState)(!0),s=Object(j.a)(o,2),c=s[0],l=s[1],p=Object(i.useState)(!1),u=Object(j.a)(p,2),m=u[0],b=u[1],h=Object(i.useState)(),x=Object(j.a)(h,2),g=x[0],O=x[1];return Object(i.useEffect)((function(){l(t.password===t.passwordControl)}),[t]),Object(a.jsxs)(Ie,{onSubmit:function(e){e.preventDefault(),c&&(n=t,f(n,"POST",{"Content-Type":"application/json"},"".concat("https://backend.moskito.uber.space","/register"))).then((function(e){e.errors?O(e.errors):b(!0)})).catch((function(e){return console.log("error",e)}));var n},children:[m&&Object(a.jsxs)(Le,{children:["Registrierung ergolgreich, Du wirst zum Login weitergeleitet.",Object(a.jsx)(Se,{waitBeforeShow:2500,children:Object(a.jsx)(d.a,{to:"/login"})})]}),g&&g.map((function(e,t){return Object(a.jsx)(Le,{children:e},t)})),Object(a.jsx)(Q,{type:"text",name:"firstName",value:t.firstName,onChange:n,placeholder:"Vorname",marginBottom:"sm"}),Object(a.jsx)(Q,{type:"text",name:"lastName",value:t.lastName,onChange:n,placeholder:"Nachname",margin:"sm"}),Object(a.jsx)(Q,{type:"text",name:"email",value:t.email,onChange:n,placeholder:"E-Mail",margin:"sm"}),!c&&Object(a.jsx)(Le,{children:"Die Passw\xf6rter stimmen nicht \xfcberein!"}),Object(a.jsx)(Q,{type:"password",name:"password",value:t.password,onChange:n,placeholder:"Password",margin:"sm"}),Object(a.jsx)(Q,{type:"password",name:"passwordControl",value:t.passwordControl,onChange:n,placeholder:"Password"}),Object(a.jsx)(je,{text1:"SignIn",text2:"Zur\xfcck",onClick:r})]})}var Ie=l.b.form.withConfig({displayName:"SignUpForm__SigninFormStyled",componentId:"sc-13o87sv-0"})(["max-width:500px;display:grid;margin:2em;"]),Le=l.b.p.withConfig({displayName:"SignUpForm__RedParagraph",componentId:"sc-13o87sv-1"})(["color:#c97f63;"]);function Be(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue,{inputMargin:"3.5em"}),Object(a.jsx)(se,{children:"Sign Up"}),Object(a.jsx)(_e,{})]})}function Te(){var e=re(),t=e.errors,n=e.campsites,i=e.getCampsites,r=Ce(),o=r.authTokens,s=r.setTokens,l=r.deleteTokens,p=r.getToken;return Object(a.jsx)(z.Provider,{value:{authTokens:o,setAuthTokens:s,deleteTokens:l,getToken:p},children:Object(a.jsx)(c.a,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/",children:Object(a.jsx)(he,{})}),Object(a.jsx)(d.b,{path:"/login",children:Object(a.jsx)(ve,{})}),Object(a.jsx)(d.b,{path:"/signin",children:Object(a.jsx)(Be,{})}),Object(a.jsx)(Fe,{path:"/find-campsite",component:function(){return Object(a.jsx)(ae,{headline:"Deine Suche",getCampsites:i})}}),Object(a.jsx)(Fe,{path:"/campsites",component:function(){return Object(a.jsx)(K,{headline:"Die Vorschl\xe4ge",campsites:n,errors:t})}}),Object(a.jsx)(Fe,{path:"/bookmarks",component:function(){return Object(a.jsx)(oe,{headline:"Deine Lieblinge"})}})]})})})}var ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))},Ae=n(34),De=n.p+"static/media/arvoBold.01f011cc.woff",Pe=n.p+"static/media/arvoBold2.891ffc5d.woff2",Me=n.p+"static/media/hindMaduraiRegular.88397b1b.woff",Ee=n.p+"static/media/hindMaduraiRegular2.464f2397.woff2";function Ke(){var e=Object(Ae.a)(["\n\n\n    @font-face {\n        font-family: 'Arvo';\n        src: local(''),\n        url(",") format('woff2'),\n        url(",") format('woff');\n        font-weight: 700;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'Hind Madurai';\n        src: local(''),\n        url(",") format('woff2'),\n        url(",") format('woff');\n        font-weight: 400;\n        font-style: normal;\n    } \n\n    * {\n        box-sizing: border-box;\n    }   \n\n    body {\n        margin: 0 auto;\n        padding: 0;\n        font-family: 'Hind Madurai';\n        font-size: 19px;\n        color: #6b717e;\n        background-color: #c2d6d3;\n        max-width: 500px;\n        \n    }\n\n    h1, h2, h3, h4, h5, h6 {\n        font-family: 'Arvo';\n        color: #476c85;\n    }\n\n    h1 {\n        font-size: 1.7rem;\n    }\n\n    h2 {\n        font-size: 1.4rem;\n    }\n\n    h3 {\n        font-size: 1.2rem;\n    }\n\n    h4 {\n        font-size: 1.1rem;\n    }\n\n    a {\n        color: #c97f63;\n        text-decoration: none;\n    }\n\n    a:hover {\n        color: #d3a392;\n    }\n"]);return Ke=function(){return e},e}var Ve=Object(l.a)(Ke(),Pe,De,Ee,Me);s.a.render(Object(a.jsxs)(r.a.StrictMode,{children:[Object(a.jsx)(Ve,{}),Object(a.jsx)(Te,{})]}),document.getElementById("root")),ze()}},[[48,1,2]]]);
//# sourceMappingURL=main.1b634037.chunk.js.map