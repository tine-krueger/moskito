(this["webpackJsonpmoskito-frontend"]=this["webpackJsonpmoskito-frontend"]||[]).push([[0],{15:function(e){e.exports=JSON.parse('{"name":"PLZ/Ort","dbName":"postalCode","postalCode":"","distance":100,"latitude":null,"longitude":null,"features":[{"id":1,"name":"kein W-Lan","dbName":"wlan","isFeature":false},{"id":2,"name":"keine Bar/Diskothek","dbName":"music","isFeature":false},{"id":3,"name":"keine Animation","dbName":"animation","isFeature":false},{"id":4,"name":"Lagerfeuerstelle","dbName":"fire","isFeature":false},{"id":5,"name":"Kies- oder Sandwege","dbName":"path","isFeature":false},{"id":6,"name":"Bulli-Wiese","dbName":"bulli","isFeature":false},{"id":7,"name":"Zeltbereiche","dbName":"tents","isFeature":false},{"id":8,"name":"keine Parzellierung","dbName":"subdevision","isFeature":false},{"id":9,"name":"wenig/keine Dauercamper","dbName":"permanent","isFeature":false},{"id":10,"name":"mind. 80qm Standfl\xe4che","dbName":"size","isFeature":false},{"id":11,"name":"Bio/Regionale Lebensmittel","dbName":"bio","isFeature":false},{"id":12,"name":"Imbiss","dbName":"snack","isFeature":false},{"id":13,"name":"Hunde erlaubt","dbName":"animals","isFeature":false},{"id":14,"name":"Zugang zum See/Meer","dbName":"seaside","isFeature":false},{"id":15,"name":"Badestelle f\xfcr Kinder","dbName":"bathing","isFeature":false},{"id":16,"name":"mit Wald","dbName":"forest","isFeature":false}]}')},50:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(2),i=n.n(a),o=n(31),s=n.n(o),c=n(8),d=n(5),p=n(3);function u(e){var t=e.children,n=e.textAlign;return Object(r.jsx)(l,{"data-testid":"eyecatcher",textAlign:n,children:t})}var l=p.b.p.withConfig({displayName:"RedParagraph__Eyecatcher",componentId:"sc-1ndbq2r-0"})(["color:var(--link);text-align:",";"],(function(e){return"left"===e.textAlign?"left":"center"})),b=n(4),m=n(25),g=n(15);function h(e){return e.features.filter((function(e){return e.value}))}function x(e){return g.features.find((function(t){return t.dbName===e.type})).name}function j(e){var t=e.feature;return Object(r.jsx)(f,{children:x(t)})}var f=p.b.li.withConfig({displayName:"FeatureListItem__FeatureItem",componentId:"sc-1l4j6b6-0"})(["border-radius:10px;display:inline-block;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);padding:.5em 1em;margin:.3em;"]),O=n(20);function v(e){var t=e.isPinned,n=e.onClick;return Object(r.jsx)(k,{"data-testid":"like-button",pinned:t,onClick:n,children:Object(r.jsx)(O.a,{"data-testid":"pin"})})}var k=p.b.div.withConfig({displayName:"LikeButton__CampsiteLikeButton",componentId:"sc-1leozx1-0"})(["position:absolute;right:1em;top:1em;height:2.5em;width:2.5em;border-radius:10px;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);display:flex;justify-content:center;svg{width:1.7em;height:1.7em;stroke:var(--link);stroke-width:3em;fill:",";align-self:center;margin-bottom:3px;}"],(function(e){return e.pinned?"var(--link)":"var(--background)"}));function w(e,t,n,r){var a={method:t,headers:n,body:JSON.stringify(e),redirect:"follow"};try{return fetch(r,a).then((function(e){return e.json()}))}catch(i){return{error:"Server does not answer!"}}}function y(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){console.log(t)}}function C(){var e=y("tokens");return function(e,t){var n={method:"GET",headers:e,redirect:"follow"};try{return fetch(t,n).then((function(e){return e.json()}))}catch(r){return{error:"Server does not answer!"}}}({Authorization:"Bearer ".concat(e.value)},"".concat("https://backend.moskito.uber.space","/bookmark"))}function N(e){var t=e.campsite,n=Object(a.useState)(t.pinned),i=Object(b.a)(n,2),o=i[0],s=i[1];return Object(r.jsxs)(L,{children:[Object(r.jsx)("h2",{children:t.name}),Object(r.jsxs)(S,{children:[Object(r.jsxs)("p",{children:[t.street,", ",t.postalCode," ",t.place]}),Object(r.jsxs)(_,{children:[t.telephone&&Object(r.jsxs)("p",{children:[Object(r.jsx)(m.b,{"data-testid":"phone"}),t.telephone]}),t.email&&Object(r.jsxs)("p",{children:[Object(r.jsx)(m.a,{"data-testid":"mail"})," ",t.email]}),Object(r.jsx)("a",{rel:"noopener noreferrer",href:t.web,target:"_blank",children:t.web})]})]}),Object(r.jsx)(F,{children:h(t).map((function(e){return Object(r.jsx)(j,{feature:e},e.id)}))}),Object(r.jsx)(v,{isPinned:o,id:t.id,onClick:function(){s(!o),function(e){var t=y("tokens");w("","POST",{Authorization:"Bearer ".concat(t.value)},"".concat("https://backend.moskito.uber.space","/bookmark/").concat(e)).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}(t.id)}})]})}var L=p.b.div.withConfig({displayName:"CampsiteListItem__CampItem",componentId:"w00kd9-0"})(["box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);border-radius:20px;margin:2em 0;padding:.5em 1em;position:relative;h2{width:75%;margin-left:.3em;}"]),S=p.b.div.withConfig({displayName:"CampsiteListItem__Address",componentId:"w00kd9-1"})(["margin-left:.5em;"]),_=p.b.div.withConfig({displayName:"CampsiteListItem__Contact",componentId:"w00kd9-2"})(["p{position:relative;padding-left:2em;}svg{width:20px;height:20px;color:var(--headline);position:absolute;top:0;left:0;}a{display:block;margin-top:1em;}"]),F=p.b.ul.withConfig({displayName:"CampsiteListItem__FeatureList",componentId:"w00kd9-3"})(['  list-style:none;padding-left:0;position:relative;margin-top:3em;&::before{content:" ";display:inline-block;position:absolute;width:90%;height:5px;left:5%;top:-25px;transition:all .2s ease;border-radius:5px;box-shadow:0.5px 0.5px 2px 0px rgba(0,0,0,0.4),-1.25px -1.25px 2px 0px rgba(255,255,255,0.5);}']);function I(e){var t=e.isCampsite,n=e.campsites,a=e.errors;return a?Object(r.jsx)(u,{"data-testid":"error",children:a.errors}):n&&0!==n.length?Object(r.jsx)(T,{children:n.map((function(e){return Object(r.jsx)(N,{campsite:e},e.id)}))}):t?Object(r.jsx)(u,{children:"Leider konnten wir zu Deiner Anfrage keine Campingpl\xe4tze finden. Vielleicht ist ja auch die Region zwischen Berlin und Hamburg was f\xfcr Dich, da wirst Du bestimmt f\xfcndig!"}):Object(r.jsx)(u,{children:"Noch keine Lieblingspl\xe4tze gespeichert!"})}var T=p.b.div.withConfig({displayName:"CampsiteList__CampList",componentId:"nwxjwm-0"})(["margin-bottom:6em;padding:0 2em"]);function B(e){var t=e.children;return Object(r.jsx)(z,{children:Object(r.jsx)("h1",{children:t})})}var z=p.b.div.withConfig({displayName:"Header__HeaderStyled",componentId:"sc-1i4lzpb-0"})(["width:80%;margin:2em auto 3em;padding:.25em .5em;border-radius:20px;text-align:center;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);"]),E=n(16);function P(){var e=Object(E.a)(["\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n"]);return P=function(){return e},e}function D(){return Object(r.jsx)(R,{"data-testid":"loading-spinner"})}var A=Object(p.c)(P()),R=p.b.div.withConfig({displayName:"Loading__Spinner",componentId:"o02zrj-0"})(["overflow:hidden;font-size:10px;margin:50px auto;text-indent:-9999em;width:11em;height:11em;border-radius:50%;background:var(--link);background:linear-gradient(to right,var(--link) 10%,rgba(255,255,255,0) 42%);position:relative;animation:"," 1.4s infinite linear;transform:translateZ(0);:before{width:50%;height:50%;background:var(--link);border-radius:100% 0 0 0;position:absolute;top:0;left:0;content:'';}:after{background:var(--headline);width:75%;height:75%;border-radius:50%;content:'';margin:auto;position:absolute;top:0;left:0;bottom:0;right:0;opacity:0.5;}"],A),M=n(35),Z=Object(a.createContext)();function H(){return Object(a.useContext)(Z)}function J(){var e=H(),t=e.deleteTokens,n=e.setAuthTokens,a=e.authTokens;return Object(r.jsx)(U,{children:Object(r.jsxs)(V,{children:[Object(r.jsx)(q,{children:Object(r.jsx)(c.b,{"data-testid":"find-campsite",to:"/find-campsite",children:Object(r.jsx)(O.b,{})})}),Object(r.jsx)(q,{children:Object(r.jsx)(c.b,{"data-testid":"bookmarks",to:"/bookmarks",children:Object(r.jsx)(O.a,{})})}),Object(r.jsx)(q,{children:Object(r.jsx)("button",{"data-testid":"logout",onClick:function(e){e.preventDefault();var r=a;n(),t(r)},children:Object(r.jsx)(M.a,{})})})]})})}var U=p.b.nav.withConfig({displayName:"Navigation__Navbar",componentId:"pcx57h-0"})(["margin:0 auto;max-width:500px;background-color:var(--background);position:fixed;bottom:0;left:0;right:0;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);"]),V=p.b.ul.withConfig({displayName:"Navigation__NavList",componentId:"pcx57h-1"})(["padding-left:0;list-style-type:none;display:flex;justify-content:space-around;"]),q=p.b.li.withConfig({displayName:"Navigation__NavListItem",componentId:"pcx57h-2"})(["text-align:center;border-radius:10px;box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-1px -1px 2px 0px rgba(255,255,255,0.5);width:2.3em;height:2.3em;display:flex;justify-content:center;align-items:center;button{background-color:transparent;border:none;}button:hover{outline:none;}a svg,button svg{width:1.5em;height:1.5em;stroke:var(--link);}button svg{width:1.7em;height:1.7em;}&:hover,&:active,&:focus{box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);outline:none;}"]);function K(e){var t=e.headline,n=e.campsites,a=e.errors,i=e.isLoading;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{children:t}),i?Object(r.jsx)(D,{}):Object(r.jsx)(I,{isCampsite:!0,campsites:n,errors:a}),Object(r.jsx)(J,{})]})}function G(e){var t=e.feature,n=e.setFilter;return Object(r.jsxs)(W,{children:[Object(r.jsx)("input",{id:t.dbName,name:t.dbName,type:"checkbox",defaultChecked:t.isFeature,onChange:n,"data-testid":t.dbName}),Object(r.jsx)("label",{htmlFor:t.dbName,children:Object(r.jsx)("p",{children:t.name})})]},t.id)}var W=p.b.div.withConfig({displayName:"FilterCampsiteCheckbox__Feature",componentId:"sc-16kcsos-0"})(['position:relative;height:2.5em;margin-bottom:.75em;input[type="checkbox"]{opacity:0;position:absolute;visibility:hidden;}p{margin:0;padding:.1em 0 0 2.5em;font-size:1.1em;}p::before{content:" ";display:inline-block;position:absolute;width:25px;height:25px;left:0;top:0;-webkit-transition:all .2s ease;transition:all .2s ease;border-radius:5px;background-color:var(--background-light);box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);}p::after{content:" ";width:14px;height:14px;top:6px;position:absolute;opacity:0;background-color:var(--link);font-weight:900;border-radius:2px;display:inline-block;left:6px;}input[type="checkbox"]:checked+label>p::after{opacity:1;}input[type="checkbox"]:checked+label>p::before{box-shadow:inset 5px 5px 3px -3px rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,.9);}']);function Y(e){var t=e.suggestions,n=e.onClick;return Object(r.jsx)(Q,{children:t.map((function(e,t){return Object(r.jsx)(X,{onClick:function(){return n(e)},children:e.label},t)}))})}var Q=p.b.ul.withConfig({displayName:"Suggestions__ListStyled",componentId:"n4gymv-0"})(["margin-top:-1em;padding:0.5em 1em;list-style:none;padding-left:0;background:#d8e6e4;opacity:.8;border-radius:10px;box-shadow:inset 2px 1px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,.4);"]),X=p.b.li.withConfig({displayName:"Suggestions__ListElement",componentId:"n4gymv-1"})(["padding:.5em 1em;&:hover,&:focus,&:active{color:#d3a392;}"]);function $(e){var t=e.children,n=e.onClick;return Object(r.jsx)(ee,{onClick:n,children:t})}var ee=p.b.button.withConfig({displayName:"Button__ButtonStyled",componentId:"sc-1b627y-0"})(["padding:1em 2em;font-family:'Arvo';font-size:1.1rem;border-radius:10px;width:auto;border:none;background:var(--background);box-shadow:2px 4px 8px -4px rgba(0,0,0,0.6),-2px -2px 2px 0px rgba(255,255,255,0.5);color:var(--headline);text-transform:uppercase;margin:1em auto 3em auto;&:hover{box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);outline:none;}"]);function te(e){var t=e.type,n=e.name,a=e.value,i=e.onChange,o=e.placeholder,s=e.children,c=e.marginBottom,d=e.min,p=e.max,u=e.autocomplete;return Object(r.jsxs)(ne,{"data-testid":"input-field",lessMargin:c,children:[Object(r.jsx)("h3",{children:s}),Object(r.jsx)("input",{"data-testid":n,type:t,name:n,value:a,onChange:i,placeholder:o,min:d,max:p,autoComplete:u})]})}var ne=p.b.label.withConfig({displayName:"InputField__Label",componentId:"sc-1sjr9ea-0"})(["grid-column:1 / -1;width:100%;text-align:center;margin:0 auto 2em;margin-bottom:",";h3{text-align:left;padding-left:.5em;margin:0 0 1em;}input{width:100%;padding:1em;height:3em;font-size:1em;border:none;border-radius:10px;color:#6b717e;background-color:#d8e6e4;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);}input:focus{outline:none;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3),0 0 0px 1.7px #d3a392;}input[type=range]{width:100%;margin:4.05px 0;background-color:transparent;-webkit-appearance:none;box-shadow:none;}input[type=range]:focus{outline:none;box-shadow:none;}input[type=range]::-webkit-slider-runnable-track{background:var(--background-light);border:0;border-radius:25px;width:100%;height:1.5em;cursor:pointer;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);}input[type=range]::-webkit-slider-thumb{margin-top:-4.05px;width:2em;height:2em;background:var(--link);border:0;border-radius:2em;cursor:pointer;-webkit-appearance:none;box-shadow:1.5px 1.5px 4px -1px rgba(0,0,0,0.6),-1px -1px 2px 0px rgba(255,255,255,0.5);}input[type=range]:focus::-webkit-slider-runnable-track{background:var(--background-light);}input[type=range]::-moz-range-track{background:var(--background-light);border:0;border-radius:25px;width:100%;height:1.5em;cursor:pointer;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);}input[type=range]::-moz-range-thumb{width:2em;height:2em;background:var(--link);border:0;border-radius:2em;cursor:pointer;box-shadow:1.5px 1.5px 4px -1px rgba(0,0,0,0.6),-1px -1px 2px 0px rgba(255,255,255,0.5);}input[type=range]::-ms-track{background:transparent;border-color:transparent;border-width:9.65px 0;color:transparent;width:100%;height:1.5em;cursor:pointer;box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);}input[type=range]::-ms-fill-lower{background:var(--background-light);border:0;border-radius:50px;}input[type=range]::-ms-fill-upper{background:var(--background-light);border:0;border-radius:50px;}input[type=range]::-ms-thumb{width:2em;height:2em;background:var(--link);border:0;border-radius:2em;cursor:pointer;margin-top:0px;box-shadow:1.5px 1.5px 4px -1px rgba(0,0,0,0.6),-1px -1px 2px 0px rgba(255,255,255,0.5);}input[type=range]:focus::-ms-fill-lower{background:var(--background-light);}input[type=range]:focus::-ms-fill-upper{background:var(--background-light);}@supports (-ms-ime-align:auto){input[type=range]{margin:0;}}"],(function(e){return"sm"===e.lessMargin?".5em":"1em"})),re=n(29),ae=n(13),ie=n(7);function oe(e){var t=Object(a.useState)(g),n=Object(b.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)([]),s=Object(b.a)(o,2),c=s[0],d=s[1];return{inputs:r,suggestions:c,handleChange:function(e){i(Object(ie.a)(Object(ie.a)({},r),{},Object(ae.a)({},e.target.name,e.target.value)))},handleSubmit:function(t){t.preventDefault(),e()},handleClick:function(e){var t=e.address.postalCode+" "+e.address.city;(function(e){var t=e.toLowerCase().replace(/\s+/g,"+"),n="".concat("https://geocoder.ls.hereapi.com","/6.2/geocode.json?apiKey=").concat("PVNaBVFJbZNejmVjh8SioYKimJC7uLDRxjjg92_KA_A","&searchtext=").concat(t,"&country=DEU");try{return fetch(n,{method:"GET",redirect:"follow"}).then((function(e){return e.json()}))}catch(r){return{error:"Server does not answer!"}}})(t).then((function(e){var n=e.Response.View[0].Result[0].Location.DisplayPosition;i(Object(ie.a)(Object(ie.a)({},r),{},{latitude:n.Latitude,longitude:n.Longitude,postalCode:t}))})).catch((function(){return d([{label:"Ortsuche zu ungenau. Gib zus\xe4tzlich eine PLZ ein oder versuche es zu einem sp\xe4teren Zeitpunkt nocheinmal."}])})),d([])},handleLocationChange:function(e){i(Object(ie.a)(Object(ie.a)({},r),{},Object(ae.a)({},e.target.name,e.target.value))),r.postalCode.length>2?function(e){var t="".concat("https://autocomplete.geocoder.ls.hereapi.com","/6.2/suggest.json?apiKey=").concat("PVNaBVFJbZNejmVjh8SioYKimJC7uLDRxjjg92_KA_A","&query=").concat(e,"&country=DEU");try{return fetch(t,{method:"GET",redirect:"follow"}).then((function(e){return e.json()}))}catch(n){return{error:"Server does not answer!"}}}(r.postalCode).then((function(e){return d(e.suggestions)})).catch((function(){return d([{label:"Service nicht verf\xfcgbar"}])})):d([])},handleCheckboxChange:function(e){var t=r.features.findIndex((function(t){return t.dbName===e.target.id})),n=r.features[t];i(Object(ie.a)(Object(ie.a)({},r),{},{features:[].concat(Object(re.a)(r.features.slice(0,t)),[Object(ie.a)(Object(ie.a)({},n),{},{isFeature:!n.isFeature})],Object(re.a)(r.features.slice(t+1)))}))}}}function se(e){var t=e.getCampsites,n=oe((function(){t(a),l.push("/campsites")})),a=n.inputs,i=n.suggestions,o=n.handleChange,s=n.handleClick,c=n.handleSubmit,p=n.handleLocationChange,u=n.handleCheckboxChange,l=Object(d.g)();return Object(r.jsxs)(ce,{onSubmit:c,children:[Object(r.jsx)(te,{type:"text",name:"postalCode",value:a.postalCode,onChange:p,placeholder:a.name,autocomplete:"off",children:"Dein Ziel:"}),0!==i.length&&Object(r.jsx)(Y,{"data-testid":"suggestions",suggestions:i,onClick:s}),Object(r.jsxs)(te,{type:"range",name:"distance",min:5,max:200,value:a.distance,onChange:o,children:["Umkreis in km: ",a.distance]}),Object(r.jsx)("h3",{children:"(Keine) Ausstattung:"}),Object(r.jsx)(de,{children:g.features.map((function(e){return Object(r.jsx)(G,{feature:e,setFilter:u},e.id)}))}),Object(r.jsx)($,{children:"Campingpl\xe4tze finden"})]})}var ce=p.b.form.withConfig({displayName:"FilterCampsiteForm__FilterCampsite",componentId:"sc-1gro8oo-0"})(["max-width:500px;display:grid;margin:2em 2em 3em 2em;h4{padding-left:.5em;margin:0 0 1em;}"]),de=p.b.div.withConfig({displayName:"FilterCampsiteForm__Checkboxes",componentId:"sc-1gro8oo-1"})(["margin-top:1em;padding-left:.5em;"]);function pe(e){var t=e.getCampsites,n=e.headline,i=e.setLoading;return Object(a.useEffect)((function(){i(!0)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{children:n}),Object(r.jsx)(se,{getCampsites:t}),Object(r.jsx)(J,{})]})}var ue=n(36);function le(e){var t=y("tokens").value;return w(e,"POST",{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},"".concat("https://backend.moskito.uber.space","/campsite-filter"))}function be(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),o=Object(b.a)(i,2),s=o[0],c=o[1],d=Object(a.useState)(),p=Object(b.a)(d,2),u=p[0],l=p[1],m=Object(a.useState)(!0),g=Object(b.a)(m,2),h=g[0],x=g[1];return{errors:u,campsites:n,bookmarks:s,isLoading:h,getCampsites:function(e){var t=function(e){return e.features.filter((function(e){return e.isFeature}))}(e);le({latitude:e.latitude,longitude:e.longitude,distance:e.distance,trueFeatures:t}).then((function(e){e.errors?(l(e),r([]),setTimeout((function(){return x(!1)}),2e3)):(r(e),l(),setTimeout((function(){return x(!1)}),2e3))})).catch((function(e){console.log("error",e)}))},setIsLoading:x,setBookmarks:function(){C().then((function(e){c(e),setTimeout((function(){return x(!1)}),1e3),console.log(e)})).catch((function(e){return console.log("error",e)}))}}}function me(e){var t=e.headline,n=be(),a=n.bookmarks,i=n.isLoading,o=n.setBookmarks;return Object(ue.useEffect)((function(){o()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(B,{children:t}),i?Object(r.jsx)(D,{}):Object(r.jsx)(I,{campsites:a}),Object(r.jsx)(J,{})]})}function ge(e){var t=e.children;return Object(r.jsx)(he,{children:t})}var he=p.b.h1.withConfig({displayName:"FrontHeadline__HeadlineStyled",componentId:"gtyoh2-0"})(["font-family:'Hind Madurai';font-size:1.5em;text-align:center;margin-top:1em;"]),xe=n(12),je=n.n(xe),fe=n.p+"static/media/moskitoLogo.c505e5fa.svg";function Oe(e){var t=e.inputPadding;return Object(r.jsx)(ve,{"data-testid":"logo",inputPadding:t,children:Object(r.jsx)(ke,{src:fe,alt:"Moskito Logo"})})}Oe.protoTypes={inputPadding:je.a.string};var ve=p.b.div.withConfig({displayName:"Logo__LogoStyled",componentId:"sc-11aqx9j-0"})(["padding-top:",";text-align:center;"],(function(e){return e.inputPadding||"2em"})),ke=p.b.img.withConfig({displayName:"Logo__LogoImage",componentId:"sc-11aqx9j-1"})(["box-shadow:inset 4px 4px 6px 0 rgba(0,0,0,0.2),inset -3px -4px 6px 0 rgba(255,255,255,0.3);border-radius:20px;padding:1em 2em;width:85%;"]);function we(){return Object(r.jsxs)(ye,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Oe,{}),Object(r.jsx)(ge,{children:"Camping back to the roots"})]}),Object(r.jsxs)(Ce,{children:[Object(r.jsx)(c.b,{to:"/login",children:Object(r.jsx)($,{children:"Login "})}),Object(r.jsx)(c.b,{to:"/signup",children:Object(r.jsx)($,{children:"SignUp "})})]})]})}var ye=p.b.div.withConfig({displayName:"Landing__FrontGrid",componentId:"sc-125629q-0"})(["display:grid;grid-template-rows:2fr 3fr;"]),Ce=p.b.div.withConfig({displayName:"Landing__UserButtons",componentId:"sc-125629q-1"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;Button{margin:.5em;width:10em;}"]);function Ne(e){var t=e.text1,n=e.text2,a=e.onClick;return Object(r.jsxs)(Le,{children:[Object(r.jsx)($,{children:t}),Object(r.jsx)($,{"data-testid":"no-form-button",type:"button",onClick:a,children:n})]})}var Le=p.b.div.withConfig({displayName:"ButtonBackGroup__Buttons",componentId:"yrfass-0"})(["display:grid;justify-items:center;Button{margin:.5em;width:10em;}"]);function Se(e,t){var n=Object(a.useState)(e),r=Object(b.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)(!0),c=Object(b.a)(s,2),p=c[0],u=c[1],l=Object(d.g)();return Object(a.useEffect)((function(){u(i.password===i.passwordControl)}),[i]),{inputs:i,isPasswordEqual:p,handleChange:function(e){o(Object(ie.a)(Object(ie.a)({},i),{},Object(ae.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault(),t()},handleClick:function(e){e.preventDefault(),l.push("/")}}}function _e(e){var t=e.isLoggedIn,n=e.isError,a=e.userLogin,i=Se({email:"",password:""},(function(){a(o)})),o=i.inputs,s=i.handleChange,c=i.handleSubmit,p=i.handleClick;return t?Object(r.jsx)(d.a,{"data-testId":"redirect",to:"find-campsite"}):Object(r.jsxs)(Fe,{onSubmit:c,children:[n&&Object(r.jsx)(u,{children:"E-Mail oder Password-Eingabe nicht korrekt!"}),Object(r.jsx)(te,{type:"text",name:"email",value:o.email,onChange:s,placeholder:"E-Mail",marginBottom:"sm"}),Object(r.jsx)(te,{type:"password",name:"password",value:o.password,onChange:s,placeholder:"Passwort"}),Object(r.jsx)(Ne,{text1:"Login",text2:"Zur\xfcck",onClick:p})]})}var Fe=p.b.form.withConfig({displayName:"LoginForm__LoginFormStyled",componentId:"sc-1jo0o9n-0"})(["max-width:500px;display:grid;margin:2em;"]);function Ie(){var e=H(),t=e.setAuthTokens,n=e.getToken,r=Object(a.useState)(!1),i=Object(b.a)(r,2),o=i[0],s=i[1],c=Object(a.useState)(!1),d=Object(b.a)(c,2),p=d[0],u=d[1],l=Object(a.useState)(!1),m=Object(b.a)(l,2),g=m[0],h=m[1],x=Object(a.useState)(),j=Object(b.a)(x,2),f=j[0],O=j[1];return{isRegistered:o,isLoggedIn:p,isError:g,loginErrors:f,userLogin:function(e){n(e).then((function(e){e.validUntil?(t(e),u(!0)):h(!0)})).catch((function(e){return h(!0)}))},userRegistration:function(e,t){e&&(n=t,w(n,"POST",{"Content-Type":"application/json"},"".concat("https://backend.moskito.uber.space","/register"))).then((function(e){e.errors?O(e.errors):s(!0)})).catch((function(e){return console.log("error",e)}));var n}}}function Te(){var e=Ie(),t=e.isLoggedIn,n=e.isError,a=e.userLogin;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Oe,{inputPadding:"1.5em"}),Object(r.jsx)(ge,{children:"Login"}),Object(r.jsx)(_e,{isLoggedIn:t,isError:n,userLogin:a})]})}var Be=function(e){var t=e.children,n=e.waitBeforeShow,r=void 0===n?500:n,i=Object(a.useState)(!1),o=Object(b.a)(i,2),s=o[0],c=o[1];return Object(a.useEffect)((function(){var e=!0;return setTimeout((function(){e&&c(!0)}),r),function(){return e=!1}}),[r]),s?t:null};function ze(){return Object(r.jsxs)(Ee,{"data-testid":"redirect",children:["Registrierung erfolgreich, Du wirst zum Login weitergeleitet.",Object(r.jsx)(Be,{waitBeforeShow:2500,children:Object(r.jsx)(d.a,{to:"/login"})})]})}var Ee=p.b.p.withConfig({displayName:"Redirection__RedParagraph",componentId:"d0hpht-0"})(["color:var(--link);"]);function Pe(e){var t=e.loginErrors,n=e.isRegistered,a=e.userRegistration,i=Se({firstName:"",lastName:"",email:"",password:"",passwordControl:""},(function(){a(s,o)})),o=i.inputs,s=i.isPasswordEqual,c=i.handleChange,d=i.handleSubmit,p=i.handleClick;return Object(r.jsxs)(De,{onSubmit:d,children:[n&&Object(r.jsx)(ze,{}),t&&t.map((function(e,t){return Object(r.jsx)(u,{textAlign:"left",children:e},t)})),Object(r.jsx)(te,{type:"text",name:"firstName",value:o.firstName,onChange:c,placeholder:"Vorname",marginBottom:"sm"}),Object(r.jsx)(te,{type:"text",name:"lastName",value:o.lastName,onChange:c,placeholder:"Nachname",marginBottom:"sm"}),Object(r.jsx)(te,{type:"text",name:"email",value:o.email,onChange:c,placeholder:"E-Mail",marginBottom:"sm"}),!s&&Object(r.jsx)(u,{children:"Die Passw\xf6rter stimmen nicht \xfcberein!"}),Object(r.jsx)(te,{type:"password",name:"password",value:o.password,onChange:c,placeholder:"Passwort",marginBottom:"sm"}),Object(r.jsx)(te,{type:"password",name:"passwordControl",value:o.passwordControl,onChange:c,placeholder:"Passwort Wiederholung"}),Object(r.jsx)(Ne,{text1:"SignUp",text2:"Zur\xfcck",onClick:p})]})}var De=p.b.form.withConfig({displayName:"SignUpForm__SigninFormStyled",componentId:"sc-13o87sv-0"})(["max-width:500px;display:grid;margin:2em;"]);function Ae(){var e=Ie(),t=e.isRegistered,n=e.loginErrors,a=e.userRegistration;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Oe,{inputPadding:"1.5em"}),Object(r.jsx)(ge,{children:"Sign Up"}),Object(r.jsx)(Pe,{loginErrors:n,isRegistered:t,userRegistration:a})]})}var Re=n(21),Me=n.n(Re),Ze=n(28);function He(){var e=y("tokens"),t=Object(a.useState)(e),n=Object(b.a)(t,2),r=n[0],i=n[1],o="https://backend.moskito.uber.space",s=new Headers;s.append("Content-Type","application/json");return{authTokens:r,setAuthTokens:i,setTokens:function(e){!function(e,t){localStorage.setItem(e,JSON.stringify(t))}("tokens",e),i(e)},deleteTokens:function(){var e=Object(Ze.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("tokens"),e.abrupt("return",w(t,"DELETE",s,"".concat(o,"/logout")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getToken:function(){var e=Object(Ze.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w(t,"POST",s,"".concat(o,"/login")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}var Je=n(37);function Ue(e){var t=e.component,n=Object(Je.a)(e,["component"]),a=H().authTokens;return Object(r.jsx)(d.b,Object(ie.a)(Object(ie.a)({},n),{},{render:function(e){return a?Object(r.jsx)(t,Object(ie.a)({},e)):Object(r.jsx)(d.a,{to:"/login"})}}))}function Ve(){var e=Object(d.h)();return Object(a.useLayoutEffect)((function(){window.scrollTo(0,0)}),[e.pathname]),null}function qe(){var e=Object(E.a)(["\n    margin: 6em 2.5em;\n"]);return qe=function(){return e},e}function Ke(){var e=Object(d.g)();return Object(r.jsxs)(Ge,{children:[Object(r.jsx)("h2",{children:"Fehler 404: Ups, hier stimmt was nicht!"}),Object(r.jsx)("p",{children:"Diese Seite existiert leider nicht (mehr)!"}),Object(r.jsx)($,{onClick:function(){e.goBack()},children:"Zur\xfcck"})]})}var Ge=p.b.div(qe());function We(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Oe,{}),Object(r.jsx)(Ke,{})]})}function Ye(){var e=be(),t=e.errors,n=e.campsites,a=e.isLoading,i=e.setIsLoading,o=e.getCampsites,s=He(),p=s.authTokens,u=s.setTokens,l=s.deleteTokens,b=s.getToken;return Object(r.jsx)(Z.Provider,{value:{authTokens:p,setAuthTokens:u,deleteTokens:l,getToken:b},children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(Ve,{}),Object(r.jsxs)(d.d,{children:[Object(r.jsx)(d.b,{exact:!0,path:"/",children:Object(r.jsx)(we,{})}),Object(r.jsx)(d.b,{path:"/login",children:Object(r.jsx)(Te,{})}),Object(r.jsx)(d.b,{path:"/signup",children:Object(r.jsx)(Ae,{})}),Object(r.jsx)(Ue,{path:"/find-campsite",component:function(){return Object(r.jsx)(pe,{headline:"Deine Suche",setLoading:i,getCampsites:o})}}),Object(r.jsx)(Ue,{path:"/campsites",component:function(){return Object(r.jsx)(K,{headline:"Die Vorschl\xe4ge",isLoading:a,campsites:n,errors:t})}}),Object(r.jsx)(Ue,{path:"/bookmarks",component:function(){return Object(r.jsx)(me,{headline:"Deine Lieblinge"})}}),Object(r.jsx)(d.b,{children:Object(r.jsx)(We,{})})]})]})})}var Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))},Xe=n.p+"static/media/arvoBold.01f011cc.woff",$e=n.p+"static/media/arvoBold2.891ffc5d.woff2",et=n.p+"static/media/hindMaduraiRegular.88397b1b.woff",tt=n.p+"static/media/hindMaduraiRegular2.464f2397.woff2";function nt(){var e=Object(E.a)(["\n\n\n    @font-face {\n        font-family: 'Arvo';\n        src: local(''),\n        url(",") format('woff2'),\n        url(",") format('woff');\n        font-weight: 700;\n        font-style: normal;\n    }\n\n    @font-face {\n        font-family: 'Hind Madurai';\n        src: local(''),\n        url(",") format('woff2'),\n        url(",') format(\'woff\');\n        font-weight: 400;\n        font-style: normal;\n    } \n\n    :root {\n        --background: #c2d6d3;\n        --background-light: #d8e6e4;\n        --paragraph: #6b717e;\n        --link: #c97f63;\n        --link-hover: #d3a392;\n        --headline: #476c85;\n    }\n\n    * {\n        box-sizing: border-box;\n    }   \n\n    body {\n        margin: 0 auto;\n        padding: 0;\n        font-family: \'Hind Madurai\';\n        font-size: 16px;\n        color: var(--paragraph);\n        background-color: var(--background-light);\n        max-width: 500px;\n        \n    }\n\n    #root {\n        background-color: var(--background);\n        min-height: 100vh;\n        padding: 2em 0;\n        box-shadow: 2px 4px 8px -4px rgba(0,0,0,0.6), -2px -2px 2px 0px rgba(255,255,255,0.5);\n    }\n\n    h1, h2, h3, h4, h5, h6 {\n        font-family: \'Arvo\';\n        color: var(--headline);\n    }\n\n    h1 {\n        font-size: 1.5rem;\n    }\n\n    h2 {\n        font-size: 1.3rem;\n    }\n\n    h3 {\n        font-size: 1.1rem;\n    }\n\n    h4 {\n        font-size: 1.0rem;\n    }\n\n    a {\n        color: var(--link);\n        text-decoration: none;\n    }\n\n    a:hover {\n        color: var(--link-hover);\n    }\n\n    textarea,\n    input:matches(\n        [type="email"],\n        [type="number"],\n        [type="password"],\n        [type="search"],\n        [type="tel"],\n        [type="text"],\n        [type="url"]\n    )   {\n            -webkit-appearance: none;\n        }\n']);return nt=function(){return e},e}var rt=Object(p.a)(nt(),$e,Xe,tt,et);s.a.render(Object(r.jsxs)(i.a.StrictMode,{children:[Object(r.jsx)(rt,{}),Object(r.jsx)(Ye,{})]}),document.getElementById("root")),Qe()}},[[50,1,2]]]);
//# sourceMappingURL=main.fd92e03c.chunk.js.map